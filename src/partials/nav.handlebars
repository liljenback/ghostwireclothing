<!-- header section starts -->
<div id="tagsLibraryForm" class="container p-3 my-3 border border-3" style="display:none; position:relative;">
  {{!-- <button id="closeTagsLibraryForm" class="btn btn-secondary"
    onclick="document.getElementById('tagsLibraryForm').style.display = 'none';">Close</button> --}}
  <script>
    document.addEventListener('keydown', function (event) {
      if (event.key === "Escape") {
        document.getElementById('tagsLibraryForm').style.display = 'none';
      }
    });
  </script>
  <script>
    document.addEventListener('keydown', function (event) {
      if (event.ctrlKey && event.key === "b") {
        // open the form if closed and close the form if open
        if (document.getElementById('tagsLibraryForm').style.display === 'none') {
          document.getElementById('tagsLibraryForm').style.display = 'block';
        } else {
          document.getElementById('tagsLibraryForm').style.display = 'none';
        }
      }
    });
  </script>
  <script>
    /* window.exampleJson = {
      "data": {
        "__adobe": {
          "analytics": {
            "pageName": "index",
            "channel": "index",
            "eVar1": "indexundefined",
            "eVar2": "indexundefined",
            "eVar3": "indexundefined",
            "eVar4": "indexundefined",
            "eVar5": "indexundefined",
            "prop1": "D=v1",
            "prop2": "D=v2",
            "prop3": "D=v3",
            "prop4": "D=v4",
            "prop5": "D=v5"
          }
        }
      }
    };*/
    const orgId = "adobeamericaspot5";
    const cjaEvolutionGuideNew = "https://experience.adobe.com/#/platform/analytics/#/workspace/cja-upgrade-guide";
    const cjaEvolutionGuideCompleted = `https://experience.adobe.com/#/@${orgId}/platform/analytics/#/workspace/cja-upgrade-guide?aa_imp=aa-ext&aa_ft=aahist_aacomp&mb=m&sch=cust&cja_imp=tags`;
    const defaultLoginEmail = ``
    const labNumber = "cjalabu";
    const emailDomain = "pot5.aephandsonlabs.com";
    const completedTagsLibrary = "<scr" + "ipt src=\"https://assets.adobedtm.com/d488cb72429b/ca1d3cc82fdf/launch-3e88a1c87943-development.min.js\" async></scr" + "ipt>";
    // window.savedLabSeatNumber = localStorage.getItem('labSeatNumber');
    // console.log('savedLabSeatNumber', window.savedLabSeatNumber); --}}

    const clearFormFields = () => {
      document.getElementById('loginEmail').innerText = '';
      document.getElementById('tagProperty').innerText = '';
      document.getElementById('schema').innerText = '';
      document.getElementById('dataSet').innerText = '';
      document.getElementById('dataStream').innerText = '';
      // document.getElementById('mappingSchema').innerText = '';
    };

    const openTagsSearch = () => {
      const tagProperty = document.getElementById('tagProperty').innerText;
      const url = `https://experience.adobe.com/#/@adobeamericaspot5/sname:amm-hol/platform/data-collection/tags/companies/CO1e25128f4e264ba79845ecabf54ff19b/properties?filter%5Bname%5D=CONTAINS+${tagProperty}&page%5Bnumber%5D=1`;
      window.open(url);
    };

    const updateCopyPasteForm = () => {
      const labSeatElement = document.getElementById('labSeatNumber');
      let labSeatNumber = labSeatElement?.value;

      // If no time slot is checked then check the time slot based on the current time
      if (!document.getElementById('firstTimeSlot').checked && !document.getElementById('secondTimeSlot').checked) {
        const now = new Date();
        const hours = now.getHours();
        const minutes = now.getMinutes();
        const timeSlot = hours * 60 + minutes;

        if (timeSlot < 10 * 60 + 30) {
          document.getElementById('firstTimeSlot').checked = true;
        } else {
          document.getElementById('secondTimeSlot').checked = true;
        }
      }
      if (document.getElementById('firstTimeSlot').checked) {
        localStorage.setItem('timeSlot', 'firstTimeSlot');
      } else {
        localStorage.setItem('timeSlot', 'secondTimeSlot');
      }

      if (labSeatElement?.value) {
        // Clear the form for invalid seat numbers
        if (labSeatNumber < 1 || labSeatNumber > 999) {
          clearFormFields();
          return;
        }
        localStorage.setItem('labSeatNumber', labSeatNumber);
        // For the later timeslot add 100 to the seat number
        if (document.getElementById('secondTimeSlot').checked && labSeatNumber < 100) {
          labSeatNumber = "" + (parseInt(labSeatNumber) + 100);
        }

        let paddedLabSeatNumber = labSeatNumber;
        if (labSeatNumber < 10) {
          //labSeatElement.value = labSeatNumber.slice(0, 2);
          paddedLabSeatNumber = labSeatNumber.padStart(2, '0');
        }
        if (labSeatNumber > 999) {
          const element = document.getElementById('labSeatNumber');
          element.classList.remove('border-danger');
          element.classList.add('border-danger');
          element.classList.add('text-danger');
        } else {
          const element = document.getElementById('labSeatNumber');
          element.classList.remove('border-danger');
          element.classList.remove('text-danger');
        }
        const loginEmail = `${labNumber}${paddedLabSeatNumber}@${emailDomain}`;
        document.getElementById('loginEmail').innerText = loginEmail;

        paddedLabSeatNumber = labSeatNumber.padStart(3, '0');

        const tagProperty = `${labNumber}-${paddedLabSeatNumber}`;
        document.getElementById('tagProperty').innerText = tagProperty;

        const schema = `${labNumber}-${paddedLabSeatNumber} Web SDK Schema`;
        document.getElementById('schema').innerText = schema;

        const dataSet = `${labNumber}-${paddedLabSeatNumber} Web SDK Dataset`;
        document.getElementById('dataSet').innerText = dataSet;

        const dataStream = `${labNumber}-${paddedLabSeatNumber} Web SDK Datastream`;
        document.getElementById('dataStream').innerText = dataStream;

        document.getElementById('completedTagsLibrary').innerText = completedTagsLibrary;

        //const mappingSchema = `${labNumber}-${paddedLabSeatNumber} Ghostwire Summit Web SDK`;
        //document.getElementById('mappingSchema').innerText = mappingSchema;

      } else {
        clearFormFields();
      }
      //document.getElementById('exampleJson').innerText = JSON.stringify(window.exampleJson, null, 2);
    };

  </script>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      document.getElementById('labSeatNumber').value = localStorage.getItem('labSeatNumber') || '';
      const timeSlot = localStorage.getItem('timeSlot');
      if (timeSlot === 'firstTimeSlot') {
        document.getElementById('firstTimeSlot').checked = true;
      } else if (timeSlot === 'secondTimeSlot') {
        document.getElementById('secondTimeSlot').checked = true;
      }
      updateCopyPasteForm();
    });
  </script>

  <button title="Close Settings"
    style="justify-content: center; align-items:center; color: #AAA; font-weight: bold; border-width: 1px; border-style: solid; border-color: #AAA; border-radius: 50%; margin: 10px; position: absolute; top: 10px; right: 10px;"
    type="button" aria-label="Close"
    onclick="document.getElementById('tagsLibraryForm').style.display = 'none';">X</button>

  <ul class="nav nav-tabs" id="myTab" role="tablist">
    <li class="nav-item">
      <a class="nav-link active" id="workbook-tab" data-toggle="tab" data-target="#workbook" type="button" role="tab"
        aria-controls="workbook" aria-selected="true">Lab Workbook</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="copyPaste-tab" data-toggle="tab" data-target="#copyPaste" type="button" role="tab"
        aria-controls="copyPaste" aria-selected="false">Copy & Paste</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="tags-library-tab" data-toggle="tab" data-target="#tags-library" type="button" role="tab"
        aria-controls="tags-library" aria-selected="false">Adobe Tags Library</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="bookmarks-tab" data-toggle="tab" data-target="#bookmarks" type="button" role="tab"
        aria-controls="bookmarks" aria-selected="false">Bookmarks</a>
    </li>
  </ul>
  <div class="tab-content p-3" id="myTabContent">
    <div class="tab-pane fade show active" id="workbook" role="tabpanel" aria-labelledby="copyPaste-tab" tabindex="0">
      <p>
        Click the PDF icon to download and open the Lab Workbook.
      </p>
      <p>
        <a href="/workbook.pdf" target="_blank"><img border="0" src="/images/pdf-small.png"></a>
      </p>
    </div>
    <div class="tab-pane fade" id="tags-library" role="tabpanel" aria-labelledby="tags-library-tab" tabindex="0">
      <p>
        Here you can specify your Tags library embed code.
      </p>
      <form>
        <div class="form-group">
          <input type="text" class="form-control" id="tagsLibrary" placeholder="Enter URL to Tags library" />
        </div>
        <button id="tagsLibraryReset" class="btn btn-secondary">Reset</button>
        <button id="tagsLibrarySubmit" class="btn btn-primary">Save and reload</button>
      </form>
    </div>
    <div class="tab-pane fade" id="copyPaste" role="tabpanel" aria-labelledby="copyPaste-tab" tabindex="0">
      <h5>Summit workbook copy & paste helper</h5>
      <p>
        Specify your lab seat number and click the copy buttons below to copy each item to your clipboard when they
        are needed.
      </p>

      <div class="card-group">

        <div class="card w-50 mt-3">
          <div class="card-header">Lab Time</div>
          <div class="card-body">
            <div class="form-check">
              <input class="form-check-input" type="radio" name="flexRadioDefault" id="firstTimeSlot"
                onclick="updateCopyPasteForm()">
              <label class="form-check-label" for="firstTimeSlot">
                8:30 AM - 10:00 AM
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="flexRadioDefault" id="secondTimeSlot"
                onclick="updateCopyPasteForm()">
              <label class="form-check-label" for="secondTimeSlot">
                11:00 AM - 12:30 PM
              </label>
            </div>
          </div>
        </div>

        <div class="card w-50 mt-3">
          <div class="card-header">Lab Seat Number</div>
          <div class="card-body">
            <!-- seat number set to savedseatnumber or empty string -->
            <input type="number" class="form-control" id="labSeatNumber" placeholder="Enter seat number"
              oninput="updateCopyPasteForm()" />
          </div>
        </div>

      </div>

      <div class="card-group">
        <div class="card w-50 mt-3">
          <div class="card-header">Login Email</div>
          <div class="card-body">
            <p id="loginEmail"></p>
            <button class="btn btn-primary"
              onclick="navigator.clipboard.writeText(document.getElementById('loginEmail').innerText)">
              Copy
            </button>
            <button class="btn btn-secondary" onclick="window.open('https://experience.adobe.com')">
              Login
            </button>
          </div>
        </div>

        <div class="card w-50 mt-3">
          <div class="card-header">Customer Journey Analytics Evolution Guide</div>
          <div class="card-body">
            <p>Click to open a New or Completed guide.</p>
            <button class="btn btn-secondary"
              onclick="window.open(cjaEvolutionGuideNew)">
              New Guide
            </button>
            <button class="btn btn-secondary"
              onclick="window.open(cjaEvolutionGuideCompleted)">
              Completed Guide
            </button>
          </div>
        </div>

      </div>
      <div class="card-group">

        <div class="card w-50 mt-3">
          <div class="card-header">Tag Property</div>
          <div class="card-body">
            <p id="tagProperty"></p>
            <button class="btn btn-primary"
              onclick="navigator.clipboard.writeText(document.getElementById('tagProperty').innerText)">
              Copy
            </button>
            <!-- onclick="window.open('https://experience.adobe.com/#/platform/data-collection/tags')" -->
            <button class="btn btn-secondary"
              onclick="openTagsSearch()">
              Open Tags
            </button>
          </div>
        </div>

        <div class="card w-50 mt-3">
          <div class="card-header">Schema Name</div>
          <div class="card-body">
            <p id="schema"></p>
            <button class="btn btn-primary"
              onclick="navigator.clipboard.writeText(document.getElementById('schema').innerText)">
              Copy
            </button>
            <button class="btn btn-secondary" onclick="window.open('https://experience.adobe.com/#/platform/schema')">
              Open Schemas
            </button>
          </div>
        </div>


      </div>
      <div class="card-group">

        <div class="card w-50 mt-3">
          <div class="card-header">Dataset Name</div>
          <div class="card-body">
            <p id="dataSet"></p>
            <button class="btn btn-primary"
              onclick="navigator.clipboard.writeText(document.getElementById('dataSet').innerText)">
              Copy
            </button>
            <button class="btn btn-secondary" onclick="window.open('https://experience.adobe.com/#/platform/dataset')">
              Open Datasets
            </button>
          </div>
        </div>

        <div class="card w-50 mt-3">
          <div class="card-header">Datastream Name</div>
          <div class="card-body">
            <p id="dataStream"></p>
            <button class="btn btn-primary"
              onclick="navigator.clipboard.writeText(document.getElementById('dataStream').innerText)">
              Copy
            </button>
            <button class="btn btn-secondary"
              onclick="window.open('https://experience.adobe.com/#/platform/data-collection/scramjet')">
              Open Datastreams
            </button>
          </div>
        </div>

      </div>
      <div class="card-group">

        <div class="card w-50 mt-3">
          <div class="card-header">Completed Tags Library</div>
          <div class="card-body">
            <p id="completedTagsLibrary"></p>
              <button class="btn btn-primary"
              onclick="navigator.clipboard.writeText(completedTagsLibrary)">
              Copy
            </button>
          </div>
        </div>

      </div>
      <!-- <div class="card-group">

        <div class="card w-50 mt-3">
          <div class="card-header">Mapping Schema</div>
          <div class="card-body">
            <p id="mappingSchema"></p>
            <button class="btn btn-primary"
              onclick="navigator.clipboard.writeText(document.getElementById('mappingSchema').innerText)">
              Copy
            </button>
          </div>
        </div>

        <div class="card w-50 mt-3">
          <div class="card-header">Mapping example JSON</div>
          <div class="card-body">
            <pre id="exampleJson" style="white-space: pre-wrap;">{{
            window.exampleJson
          }}
          </pre>
            <button class="btn btn-primary"
              onclick="navigator.clipboard.writeText(document.getElementById('exampleJson').innerText)">
              Copy
            </button>
          </div>
        </div>

      </div> -->
    </div>
    <div class="tab-pane fade" id="bookmarks" role="tabpanel" aria-labelledby="bookmarks-tab" tabindex="0">
      <p>
        Here are some lab-related links. Click any link to open a new page.
      </p>
      <div class="card w-50 mt-3">
        <div class="card-header">Lab Links</div>
        <div class="card-body">
          <ul>
            <li><a target="blank" href="https://experience.adobe.com">Experience Cloud</a></li>
            <li><a target="blank" href="https://experience.adobe.com/#/platform/data-collection/tags">Tags</a></li>
            <li><a target="blank" href="https://experience.adobe.com/#/analytics">Analytics</a></li>
            <li><a target="blank" href="https://experience.adobe.com/#/platform/analytics">Customer Journey Analytics</a>
          </ul>
        </div>
      </div>
      <div class="card w-50 mt-3">
        <div class="card-header">Documentation</div>
        <div class="card-body">
          <ul>
            <li><a target="blank"
                href="https://experienceleague.adobe.com/en/docs/experience-platform/sources/connectors/adobe-applications/analytics">Adobe
                Analytics Source Connector</a></li>
            <li><a target="blank"
                href="https://experienceleague.adobe.com/en/docs/experience-platform/web-sdk/home">Adobe
                Experience Platform Web SDK</a></li>
            <li><a target="blank"
                href="https://experienceleague.adobe.com/en/docs/experience-platform/tags/extensions/client/web-sdk/data-element-types#variable">Variable
                Payload Object</a></li>
            <li><a target="blank"
                href="https://experienceleague.adobe.com/en/docs/experience-platform/tags/publish/environments/environments">Tag
                Environment Embed Codes</a></li>
          </ul>
        </div>
      </div>

    </div>
  </div>
</div>
<div class="container">
  <nav class="navbar navbar-expand-lg custom_nav-container ">
    <a class="navbar-brand" href="/index.html"><img width="250" src="/images/logo.png" alt="#" /></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class=""> </span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav">
        <li class="nav-item{{addClass (eq active 'home') 'active'}}">
          <a class="nav-link" href="/index.html">Home <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item dropdown{{addClass (eq active 'pages') 'active'}}">
          <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" role="button" aria-haspopup="true"
            aria-expanded="true"> <span class="nav-label">Pages <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/about.html">About</a></li>
            <li><a href="/testimonial.html">Testimonial</a></li>
          </ul>
        </li>
        <li class="nav-item{{addClass (eq active 'products') 'active'}}">
          <a class="nav-link" href="/categories/all.html">Products</a>
        </li>
        {{!-- <li class="nav-item{{addClass (eq active 'blog') 'active'}}">
          <a class="nav-link" href="/blog_list.html">Blog</a>
        </li> --}}
        <li class="nav-item{{addClass (eq active 'contact') 'active'}}">
          <a class="nav-link" href="/contact.html">Contact</a>
        </li>
        <li class="nav-item{{addClass (eq active 'cart') 'active'}}">
          <a class="nav-link" href="/cart.html">
            {{> cart_icon}}
          </a>
        </li>
        {{!-- <li class="nav-item">
          <a id="navSettings" class="nav-link" href="#">
            {{> gear_icon}}
          </a>
        </li> --}}
      </ul>
    </div>
  </nav>
</div>
</header>
<!-- end header section -->